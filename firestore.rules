rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // ── Settings (pricing config etc.) ──
    match /settings/{doc} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }

    // ── Users / Profiles ──
    match /users/{userId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }

    // ── Leads ──
    match /leads/{leadId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }

    // ── Clients ──
    match /clients/{clientId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }

    // ── Proposals ──
    match /proposals/{proposalId} {
      allow read: if true;
      allow write: if request.auth != null;
    }

    // ── Projects ──
    match /projects/{projectId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }

    // ── Tasks ──
    match /tasks/{taskId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }

    // ── Invoices ──
    match /invoices/{invoiceId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }

    // ── Activity Log ──
    match /activity/{logId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }
  }
}
